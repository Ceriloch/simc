# Deynda - Unholy - 2020-10-08 01:13 - us/Torghast
# SimC Addon 1.12.5
# Requires SimulationCraft 820-01 or newer

deathknight="Deynda"
level=60
race=blood_elf
region=us
server=torghast
role=attack

talents=1111132
spec=unholy

covenant=night_fae
soulbind=125:7

head=,id=163457,ilevel=138
neck=,id=177165,ilevel=138
shoulder=,id=171417,bonus_id=6716/1487/6944/6647/6649,context=63
back=,id=163361,ilevel=138
chest=,id=163281,ilevel=138
wrist=,id=177099,ilevel=138
hands=,id=177111,ilevel=138
waist=,id=163462,ilevel=138
legs=,id=177110,ilevel=138
feet=,id=177112,ilevel=138
finger1=,id=177164,ilevel=138
finger2=,id=177167,ilevel=138
trinket1=,id=177156,ilevel=138
trinket2=,id=177154,ilevel=138
main_hand=,id=177121,enchant_id=3370,ilevel=138

### Gear from Bags
#
# Shadowghast Helm (190)
# head=,id=171415,bonus_id=6716/1487,context=63
#
# Shadowghast Helm (190)
# head=,id=171415,bonus_id=6716/1487,context=63
#
# Shadowghast Helm (190)
# head=,id=171415,bonus_id=6716/1487,context=63
#
# Vitality Sacrifice (190)
# head=,id=171415,bonus_id=6716/1487/7106/6650/6649,context=63
#
# Shadowghast Necklace (190)
# neck=,id=178927,bonus_id=6716/1487,context=63
#
# Shadowghast Necklace (190)
# neck=,id=178927,bonus_id=6716/1487,context=63
#
# Shadowghast Necklace (190)
# neck=,id=178927,bonus_id=6716/1487,context=63
#
# Shadowghast Pauldrons (190)
# shoulder=,id=171417,bonus_id=6716/1487,context=63
#
# Shadowghast Pauldrons (190)
# shoulder=,id=171417,bonus_id=6716/1487,context=63
#
# Shadowghast Pauldrons (190)
# shoulder=,id=171417,bonus_id=6716/1487,context=63
#
# Honorbound Centurion's Pauldrons (138)
# shoulder=,id=163454,bonus_id=6938
#
# Shadowghast Pauldrons (190)
# shoulder=,id=171417,bonus_id=6716/1487,context=63
#
# Shimmerbough Robe of the Aurora (129)
# chest=,id=175544,bonus_id=6907/1706
#
# Strain-Soaked Breastplate (190)
# chest=,id=171412,bonus_id=6716/1487/6953/6650/6649,context=63
#
# Shadowghast Breastplate (190)
# chest=,id=171412,bonus_id=6716/1487,context=63
#
# Shadowghast Breastplate (190)
# chest=,id=171412,bonus_id=6716/1487,context=63
#
# Eventide Vest of the Fireflash (129)
# chest=,id=175546,bonus_id=6907/1695
#
# Shadowghast Armguards (190)
# wrist=,id=171419,bonus_id=6716/1487,context=63
#
# Shadowghast Armguards (190)
# wrist=,id=171419,bonus_id=6716/1487,context=63
#
# Shadowghast Armguards (190)
# wrist=,id=171419,bonus_id=6716/1487,context=63
#
# Shadowghast Armguards (190)
# wrist=,id=171419,bonus_id=6716/1487,context=63
#
# Shadowghast Gauntlets (190)
# hands=,id=171414,bonus_id=6716/1487,context=63
#
# Shadowghast Gauntlets (190)
# hands=,id=171414,bonus_id=6716/1487,context=63
#
# Shadowghast Gauntlets (190)
# hands=,id=171414,bonus_id=6716/1487,context=63
#
# Shadowghast Waistguard (190)
# waist=,id=171418,bonus_id=6716/1487,context=63
#
# Shadowghast Waistguard (190)
# waist=,id=171418,bonus_id=6716/1487,context=63
#
# Shadowghast Waistguard (190)
# waist=,id=171418,bonus_id=6716/1487,context=63
#
# Shadowghast Waistguard (190)
# waist=,id=171418,bonus_id=6716/1487,context=63
#
# Shadowghast Greaves (190)
# legs=,id=171416,bonus_id=6716/1487,context=63
#
# Shadowghast Greaves (190)
# legs=,id=171416,bonus_id=6716/1487,context=63
#
# Shadowghast Greaves (190)
# legs=,id=171416,bonus_id=6716/1487,context=63
#
# Eventide Leggings of the Feverflare (129)
# legs=,id=175561,bonus_id=6907/1702
#
# Shadowghast Greaves (190)
# legs=,id=171416,bonus_id=6716/1487,context=63
#
# Bryndaor's Might (190)
# feet=,id=171413,bonus_id=6716/1487/6940/6650/6649,context=63
#
# Shadowghast Sabatons (190)
# feet=,id=171413,bonus_id=6716/1487,context=63
#
# Shadowghast Sabatons (190)
# feet=,id=171413,bonus_id=6716/1487,context=63
#
# Shadowghast Ring (190)
# finger1=,id=178926,bonus_id=6716/1487,context=63
#
# Shadowghast Ring (190)
# finger1=,id=178926,bonus_id=6716/1487,context=63
#
# Shadowghast Ring (190)
# finger1=,id=178926,bonus_id=6716/1487,context=63
#
# Shadowghast Ring (190)
# finger1=,id=178926,bonus_id=6716/1487,context=63
#
# Honorbound Decapitator (138)
# main_hand=,id=177121,enchant_id=3847,bonus_id=6938
#
# Honorbound Gladius (138)
# main_hand=,id=177127,enchant_id=3368,bonus_id=6938
#
# Honorbound Gladius (138)
# main_hand=,id=177127,enchant_id=3370,bonus_id=6938

# This default action priority list is automatically created based on your character.
# It is a attempt to provide you with a action list that is both simple and practicable,
# while resulting in a meaningful and good simulation. It may not result in the absolutely highest possible dps.
# Feel free to edit, adapt and improve it to your own needs.
# SimulationCraft is always looking for updates and improvements to the default action lists.
 
# Executed before combat begins. Accepts non-harmful actions only.
actions.precombat=flask
actions.precombat+=/food
actions.precombat+=/augmentation
# Snapshot raid buffed stats before combat begins and pre-potting is done.
actions.precombat+=/snapshot_stats
actions.precombat+=/potion
actions.precombat+=/raise_dead
 
# Executed every time the actor is available.
actions=auto_attack
# Variables
actions+=/variable,name=pooling_for_gargoyle,value=cooldown.summon_gargoyle.remains<5&talent.summon_gargoyle.enabled
# Racials, Items, and other ogcds
actions+=/arcane_torrent,if=runic_power.deficit>65&pet.gargoyle.active&rune.deficit>=5
actions+=/blood_fury,if=pet.gargoyle.active|buff.unholy_assault.up|talent.army_of_the_damned.enabled&(pet.army_ghoul.active|cooldown.army_of_the_dead.remains>target.time_to_die)
actions+=/berserking,if=pet.gargoyle.active|buff.unholy_assault.up|talent.army_of_the_damned.enabled&(pet.army_ghoul.active|cooldown.army_of_the_dead.remains>target.time_to_die)
actions+=/lights_judgment,if=buff.unholy_strength.up
actions+=/ancestral_call,if=pet.gargoyle.active|buff.unholy_assault.up|talent.army_of_the_damned.enabled&(pet.army_ghoul.active|cooldown.army_of_the_dead.remains>target.time_to_die)
actions+=/arcane_pulse,if=active_enemies>=2|(rune.deficit>=5&runic_power.deficit>=60)
actions+=/fireblood,if=pet.gargoyle.active|buff.unholy_assault.up|talent.army_of_the_damned.enabled&(pet.army_ghoul.active|cooldown.army_of_the_dead.remains>target.time_to_die)
actions+=/bag_of_tricks,if=buff.unholy_strength.up&active_enemies=1
actions+=/use_items
actions+=/potion,if=pet.gargoyle.active|buff.unholy_assault.up|talent.army_of_the_damned.enabled&(pet.army_ghoul.active|cooldown.army_of_the_dead.remains>target.time_to_die)
# Maintaining Virulent Plague is a priority
actions+=/outbreak,target_if=dot.virulent_plague.refreshable&!talent.unholy_blight.enabled&!raid_event.adds.exists
actions+=/outbreak,target_if=dot.virulent_plague.refreshable&(!talent.unholy_blight.enabled|talent.unholy_blight.enabled&cooldown.unholy_blight.remains)&active_enemies>=2
actions+=/call_action_list,name=cooldowns
actions+=/run_action_list,name=aoe_setup,if=active_enemies>=2&(cooldown.death_and_decay.remains<10&!talent.defile.enabled|cooldown.defile.remains<10&talent.defile.enabled)&!death_and_decay.ticking
actions+=/run_action_list,name=aoe_burst,if=active_enemies>=2&death_and_decay.ticking
actions+=/run_action_list,name=generic_aoe,if=active_enemies>=2&(!death_and_decay.ticking&(cooldown.death_and_decay.remains>10&!talent.defile.enabled|cooldown.defile.remains>10&talent.defile.enabled))
actions+=/call_action_list,name=generic,if=active_enemies=1
 
#AoE Setup
actions.aoe_setup=death_and_decay,if=death_knight.fwounded_targets=active_enemies|raid_event.adds.exists&raid_event.adds.remains<=11
actions.aoe_setup+=/death_and_decay,if=death_knight.fwounded_targets>=5
actions.aoe_setup+=/defile,if=death_knight.fwounded_targets=active_enemies|raid_event.adds.exists&raid_event.adds.remains<=11
actions.aoe_setup+=/defile,if=death_knight.fwounded_targets>=5
actions.aoe_setup+=/epidemic,if=!variable.pooling_for_gargoyle&runic_power.deficit<20
actions.aoe_setup+=/festering_strike,target_if=debuff.festering_wound.stack<1
actions.aoe_setup+=/epidemic,if=!variable.pooling_for_gargoyle
 
# AoE Burst
actions.aoe_burst=epidemic,if=runic_power.deficit<(14+death_knight.fwounded_targets*3&death_knight.fwounded_targets<=5)&!variable.pooling_for_gargoyle
actions.aoe_burst+=/epidemic,if=runic_power.deficit<(25&death_knight.fwounded_targets>5)&!variable.pooling_for_gargoyle
actions.aoe_burst+=/epidemic,if=!death_knight.fwounded_targets&!variable.pooling_for_gargoyle
actions.aoe_burst+=/scourge_strike
actions.aoe_burst+=/clawing_shadows
actions.aoe_burst+=/epidemic,if=!variable.pooling_for_gargoyle

# Generic AoE
actions.generic_aoe=epidemic,if=buff.sudden_doom.react
actions.generic_aoe+=/epidemic,if=!variable.pooling_for_gargoyle
actions.generic_aoe+=/scourge_strike,target_if=max:debuff.festering_wound.stack,if=cooldown.apocalypse.remains>5&debuff.festering_wound.stack>=1
actions.generic_aoe+=/clawing_shadows,target_if=max:debuff.festering_wound.stack,if=cooldown.apocalypse.remains>5&debuff.festering_wound.stack>=1
actions.generic_aoe+=/festering_strike,target_if=min:debuff.festering_wound.stack,if=cooldown.apocalypse.remains>5&debuff.festering_wound.stack<1
actions.generic_aoe+=/scourge_strike,target_if=max:debuff.festering_wound.stack,if=(cooldown.apocalypse.remains>5&debuff.festering_wound.up|debuff.festering_wound.stack>4)&(target.1.time_to_die<cooldown.death_and_decay.remains+10|target.1.time_to_die>cooldown.apocalypse.remains)
actions.generic_aoe+=/clawing_shadows,target_if=max:debuff.festering_wound.stack,if=(cooldown.apocalypse.remains>5&debuff.festering_wound.up|debuff.festering_wound.stack>4)&(target.1.time_to_die<cooldown.death_and_decay.remains+10|target.1.time_to_die>cooldown.apocalypse.remains)
actions.generic_aoe+=/festering_strike,target_if=max:debuff.festering_wound.stack,if=debuff.festering_wound.stack<3&cooldown.apocalypse.remains<3|debuff.festering_wound.stack<1
 
# Cooldowns
actions.cooldowns=army_of_the_dead,if=cooldown.unholy_blight.remains<5&talent.unholy_blight.enabled|!talent.unholy_blight.enabled
actions.cooldowns+=/unholy_blight,if=(cooldown.army_of_the_dead.remains>5|death_knight.disable_aotd)&(cooldown.apocalypse.ready&(debuff.festering_wound.stack>=4|rune>=3)|cooldown.apocalypse.remains)&!raid_event.adds.exists
actions.cooldowns+=/unholy_blight,if=raid_event.adds.exists&(active_enemies>=2|raid_event.adds.in>15)
actions.cooldowns+=/dark_transformation,if=!raid_event.adds.exists&cooldown.unholy_blight.remains&(runeforge.deadliest_coil.equipped&(!buff.dark_transformation.up&!talent.unholy_pact.enabled|talent.unholy_pact.enabled)|!runeforge.deadliest_coil.equipped)|!talent.unholy_blight.enabled&!raid_event.adds.exists
actions.cooldowns+=/dark_transformation,if=raid_event.adds.exists&(active_enemies>=2|raid_event.adds.in>15)
actions.cooldowns+=/unholy_assault,if=active_enemies=1&(pet.apoc_ghoul.active|conduit.convocation_of_the_dead.enabled)
actions.cooldowns+=/unholy_assault,target_if=min:debuff.festering_wound.stack,if=active_enemies>=2&debuff.festering_wound.stack<2
actions.cooldowns+=/apocalypse,if=debuff.festering_wound.stack>=4&((!talent.unholy_blight.enabled|talent.army_of_the_damned.enabled|conduit.convocation_of_the_dead.enabled)|talent.unholy_blight.enabled&!talent.army_of_the_damned.enabled&dot.unholy_blight.remains)&active_enemies=1
actions.cooldowns+=/apocalypse,target_if=max:debuff.festering_wound.stack,if=debuff.festering_wound.stack>=4&active_enemies>=2&!death_and_decay.ticking
actions.cooldowns+=/summon_gargoyle,if=runic_power.deficit<14
actions.cooldowns+=/soul_reaper,target_if=target.time_to_pct_35<5&target.time_to_die>5
actions.cooldowns+=/raise_dead,if=!pet.ghoul.active
actions.cooldowns+=/sacrificial_pact,if=active_enemies>=2&!buff.dark_transformation.up&!cooldown.dark_transformation.ready
 
# General Rotation
actions.generic=death_coil,if=buff.sudden_doom.react&!variable.pooling_for_gargoyle|pet.gargoyle.active
actions.generic+=/death_coil,if=runic_power.deficit<14&!variable.pooling_for_gargoyle
actions.generic+=/defile,if=cooldown.apocalypse.remains
actions.generic+=/scourge_strike,if=debuff.festering_wound.up&(!talent.unholy_blight.enabled|talent.army_of_the_damned.enabled|conduit.convocation_of_the_dead.enabled|raid_event.adds.exists)&cooldown.apocalypse.remains>5
actions.generic+=/scourge_strike,if=debuff.festering_wound.stack>4
actions.generic+=/scourge_strike,if=debuff.festering_wound.up&talent.unholy_blight.enabled&!talent.army_of_the_damned.enabled&cooldown.unholy_blight.remains>5&!cooldown.apocalypse.ready&!raid_event.adds.exists
actions.generic+=/clawing_shadows,if=debuff.festering_wound.up&(!talent.unholy_blight.enabled|talent.army_of_the_damned.enabled|conduit.convocation_of_the_dead.enabled|raid_event.adds.exists)&cooldown.apocalypse.remains>5
actions.generic+=/clawing_shadows,if=debuff.festering_wound.stack>4
actions.generic+=/clawing_shadows,if=debuff.festering_wound.up&talent.unholy_blight.enabled&!talent.army_of_the_damned.enabled&cooldown.unholy_blight.remains>5&!cooldown.apocalypse.ready&!raid_event.adds.exists
actions.generic+=/death_coil,if=runic_power.deficit<20&!variable.pooling_for_gargoyle
actions.generic+=/festering_strike,if=debuff.festering_wound.stack<4&cooldown.apocalypse.remains<3&(!talent.unholy_blight.enabled|talent.army_of_the_damned.enabled|conduit.convocation_of_the_dead.enabled|raid_event.adds.exists)
actions.generic+=/festering_strike,if=debuff.festering_wound.stack<1
actions.generic+=/festering_strike,if=debuff.festering_wound.stack<4&(cooldown.unholy_blight.remains<3|(cooldown.apocalypse.ready&dot.unholy_blight.remains)&talent.unholy_blight.enabled&!talent.army_of_the_damned.enabled)&!raid_event.adds.exists
actions.generic+=/death_coil,if=!variable.pooling_for_gargoyle